<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Droid+Sans:700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../common.css">
    <link rel="stylesheet" href="../../common/lib/atom-one-light.css">
    <link rel="stylesheet" href="../spring.css">
  </head>
  <body>
    <input type="checkbox" id="showPreview"/>
    <div class="first-side">
      <div class="cutter">
<div class="cut cut-top-left">&nbsp;</div>
<div class="cut cut-bottom-left">&nbsp;</div>
<div class="cut cut-top-right">&nbsp;</div>
<div class="cut cut-bottom-right">&nbsp;</div>
</div>
<header>
    <div class="home-button no-print">
        <a href="../" title="back to home cheat Sheet"><i class="material-icons">home</i></a>
        <label for="showPreview"><i class="material-icons">visibility</i></label>
    </div>
    <div class="header-center">
        <div class="description-content">
            <div class="title">Spring core cheat sheet</div>
            <div class="sub-title">Container, Dependency and IOC</div>
        </div>

        <div class="logo-container">
          <img src="../../assets/images/spring-core.png">
        </div>
    </div>
    <div class="logo-category no-print">
        <i class="material-icons" onclick="printLarge()">print</i>
    </div>
</header>



      <main>
        <div class="column1">
          <p>Spring <strong>5.x</strong> - Date : <strong>August 2018</strong></p>
<h1 id="what-is-spring-">What is Spring ?</h1>
<ul>
<li><strong>Open source</strong> (Apache 2 licence, sources on <a href="https://github.com/spring-projects/spring-framework">github</a>)</li>
<li><strong>Light</strong><ul>
<li>Doesn&#39;t force to use an application server</li>
<li>Not invasive</li>
</ul>
</li>
<li><strong>Container</strong><ul>
<li>Application objects doesn&#39;t have to look for their dependencies</li>
<li>Handles objects life cycle</li>
</ul>
</li>
<li><strong>Framework</strong><ul>
<li>Ease integration and communication with third-party libraries</li>
</ul>
</li>
</ul>
<h1 id="minimal-dependencies">Minimal dependencies</h1>
<pre><code class="lang-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<h1 id="application-configuration">Application configuration</h1>
<ul>
<li>Java</li>
<li>Annotations</li>
<li>XML (still available but heavy)</li>
</ul>
<pre><code class="lang-Java">@ComponentScan(&quot;fr.sii.cheatsheet.spring&quot;)
public class MyApp {

    public static void main(String[] args) {
        ApplicationContext app = new AnnotationConfigApplicationContext(MyApp.class);

        DummyService helloWorld = app.getBean(DummyService.class);
        helloWorld.getMessage();
    }
}
</code></pre>
<p>Prefer use of a configuration class</p>
<pre><code class="lang-Java">@Configuration
public class MyAppConfig {
  // @Bean, ...
}
</code></pre>

        </div>
        <div class="column2">
          <h1 id="dependency-injection">Dependency injection</h1>
<h2 id="define-a-bean-bean">Define a bean : <strong>@Bean</strong></h2>
<pre><code class="lang-Java">@Configuration
public class MyAppConfig {
  @Bean
  public DummyService dummyService(){
    return new DummyServiceImpl();
  }
}
</code></pre>
<h2 id="define-a-bean-component">Define a bean : <strong>@Component</strong></h2>
<p><em>@Component</em> specializations :</p>
<ul>
<li><strong>@Service</strong> : Heart of an app</li>
<li><strong>@Repository</strong> : Handles data persistence</li>
<li><strong>@Controller</strong> : Handles requests and reponses</li>
</ul>
<pre><code class="lang-Java">@Component
public class DummyServiceImpl implements DummyService {
}
</code></pre>
<h2 id="dependency-injection-autowired">Dependency injection : <strong>@Autowired</strong></h2>
<ul>
<li>Via a class field</li>
<li>Via a setter</li>
<li>Via the constructor <em>(prefer for easy test)</em></li>
</ul>
<pre><code class="lang-Java">@Component
public class FooServiceImpl implements FooService {

  @Autowired
  private DummyService service;

  @Autowired
  public FooServiceImpl(DummyService dummyservice) {
    this.service = dummyService;
  }

  @Autowired
  public DummyService setDummyService(DummyService dummyService) {
    this.service = dummyService;
  }

}
</code></pre>

        </div>
      </main>

      <footer class="print-only">
  <a href="https://groupe-sii.github.io/cheat-sheets">groupe-sii.github.io/cheat-sheets</a>
  <a href="http://www.groupe-sii.com">www.groupe-sii.com</a>
  <a href="https://blog.groupe-sii.com">blog.groupe-sii.com</a>
  <img src="../../assets/images/logoSII-white.svg">
</footer>



    </div>

    <hr class="no-print"/>

    <div class="reverse">
      <header class="print-only">
    <div class="header-center">
        <div class="description-content">
            <div class="title">Spring core cheat sheet</div>
        </div>
        <div class="logo-container">
          <img src="../../assets/images/spring-core.png">
        </div>
    </div>
</header>


      <main>
        <div class="column1">
          <h1 id="beans-scopes">Beans scopes</h1>
<table>
<thead>
<tr>
<th>Scope</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>singleton</strong></td>
<td>(default)  A single bean instance</td>
</tr>
<tr>
<td><strong>prototype</strong></td>
<td>A bean instance per usage</td>
</tr>
<tr>
<td><strong>request</strong></td>
<td>A bean instance per <strong>HTTP request</strong></td>
</tr>
<tr>
<td><strong>session</strong></td>
<td>A bean instance per <strong>HTTP session</strong></td>
</tr>
<tr>
<td><strong>application</strong></td>
<td>A bean instance per Servlet Context</td>
</tr>
<tr>
<td><strong>websocket</strong></td>
<td>A bean instance per WebSocket</td>
</tr>
</tbody>
</table>
<h1 id="customizing-a-bean">Customizing a bean</h1>
<h2 id="initialization-method">Initialization method</h2>
<pre><code class="lang-Java">@PostConstruct
</code></pre>
<h2 id="destroy-method">Destroy method</h2>
<pre><code class="lang-Java">@PreDestroy
</code></pre>
<h1 id="spel-spring-expression-language">SpEL : Spring Expression Language</h1>
<h2 id="access-a-system-properties">Access a system properties</h2>
<pre><code class="lang-Java">@Value(&quot;#{ systemProperties[&#39;user.home&#39;] }&quot;)
private String defaultHome;
</code></pre>
<h2 id="access-a-bean-property">Access a bean property</h2>
<pre><code class="lang-Java">@Value(&quot;#{myBean.myValue}&quot;)
private String myValue;
</code></pre>
<h2 id="parse-a-string">Parse a string</h2>
<pre><code class="lang-Java">@Value(&quot;#{myBean.myValue.substring(0,1)}&quot;)
private String myValue;
</code></pre>
<h2 id="operations">Operations</h2>
<pre><code class="lang-Java">@Value(&quot;#{myBean.myValue.length() &gt; 2}&quot;)
private String myValue;
</code></pre>

        </div>
        <div class="column2">
          <h1 id="properties">Properties</h1>
<pre><code class="lang-Java">/**
 * File &#39;foo.properties&#39; loaded by Spring
 */
@Configuration
@PropertySource(&quot;classpath:foo.properties&quot;)
public class MyAppConfig {

  /**
   * Property max in file foo.properties.
   */
  private Integer max;

}
</code></pre>
<p>Use a property : <strong>@Value(&quot;${message}&quot;)</strong> </p>
<pre><code class="lang-Java">@Value(&quot;${message:Default message}&quot;)
private String message;
</code></pre>
<h1 id="go-deeper">Go deeper</h1>
<ul>
<li><a href="https://spring.io/guides">https://spring.io/guides</a></li>
<li><a href="https://spring.io/projects/spring-framework">https://spring.io/projects/spring-framework</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/5.0.8.RELEASE/spring-framework-reference/core.html">Spring Core documentation</a></li>
<li><a href="../spring-boot/index.html">Spring Boot cheat sheet</a></li>
</ul>

        </div>
      </main>

      <footer class="@@class">
  <a href="https://groupe-sii.github.io/cheat-sheets">groupe-sii.github.io/cheat-sheets</a>
  <a href="http://www.groupe-sii.com">www.groupe-sii.com</a>
  <a href="https://blog.groupe-sii.com">blog.groupe-sii.com</a>
  <img src="../../assets/images/logoSII-white.svg">
</footer>

    </div>

    <script src="../../common/lib/highlight.pack.js"></script>
    <script src="../../common/script.js"></script>
  </body>
</html>
